function ready() { document.querySelectorAll(".field1").forEach(function (t, a) { t.addEventListener("change", e => quantityChanged(e, t, a)) }), updateCartTotal() } function quantityChanged(e, t, a) { e = e.target; (isNaN(e.value) || e.value <= 0) && (e.value = 1), updateProductTotal(e.value, a) } function updateProductTotal(e, t) { var a = document.querySelectorAll(".cart-row")[t], t = a.querySelector(".field2").value; a.querySelector(".field3").value = t * e, updateCartTotal() } function updateCartTotal() { var e = document.querySelectorAll(".field3"), t = document.querySelector(".total"), a = 0; e.forEach(e => { a += Number(e.value) }), t.value = a } window.onload = function () { ready() };